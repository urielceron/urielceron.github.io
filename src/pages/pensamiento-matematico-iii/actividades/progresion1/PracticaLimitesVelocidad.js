import React, { useState } from 'react';
import { Card, CardHeader, CardTitle, CardContent } from '../../../../components/ui/card';
import useDarkMode from '../../../../hooks/useDarkMode';
import DarkModeToggle from '../../../../components/DarkModeToggle';
import BackButton from '../../../../components/BackButton';

const PracticaLimitesVelocidad = () => {
  const { darkMode, toggleDarkMode } = useDarkMode();
  const [mostrarSolucion, setMostrarSolucion] = useState({});

  const toggleSolucion = (ejercicio) => {
    setMostrarSolucion(prev => ({
      ...prev,
      [ejercicio]: !prev[ejercicio]
    }));
  };

  return (
    <div className={`min-h-screen ${darkMode ? 'dark bg-gray-900' : 'bg-gray-50'}`}>
      <nav className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow-lg`}>
        <div className="max-w-7xl mx-auto px-4">
          <div className="flex justify-between items-center h-16">
            <BackButton />
            <div className="flex items-center space-x-4">
              <h1 className={`text-xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                Pr√°ctica: L√≠mites y Velocidad
              </h1>
              <DarkModeToggle darkMode={darkMode} toggleDarkMode={toggleDarkMode} />
            </div>
          </div>
        </div>
      </nav>

      <main className="max-w-6xl mx-auto px-4 py-8 space-y-8">

        {/* APERTURA INSPIRADORA PARA L√çMITES */}
        <Card className={darkMode ? 'bg-gray-800' : 'bg-white'}>
          <CardHeader>
            <CardTitle className="text-gray-900 dark:text-white">
              ‚ö° El Arte de Capturar el "Momento Exacto"
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-6">
            
            {/* GANCHO INICIAL CON MET√ÅFORA DE GAMING */}
            <div className="bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900 dark:to-purple-900 p-6 rounded-lg">
              <h3 className="text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600">
                üéÆ ¬øAlguna vez has hecho una captura de pantalla perfecta en un videojuego?
              </h3>
              
              <div className="bg-white dark:bg-gray-700 p-6 rounded-lg mb-6">
                <p className="text-lg leading-relaxed mb-4">
                  Imag√≠nate jugando tu videojuego favorito. Tu personaje est√° saltando y quieres capturar 
                  <strong> EL momento exacto </strong> cuando est√° en el aire, en la pose m√°s √©pica.
                </p>
                
                <div className="grid md:grid-cols-3 gap-4 mb-4">
                  <div className="text-center p-3 bg-red-100 dark:bg-red-800 rounded">
                    <div className="text-3xl mb-2">üì∏</div>
                    <p className="text-sm">Muy temprano: todav√≠a en el suelo</p>
                  </div>
                  <div className="text-center p-3 bg-green-100 dark:bg-green-800 rounded">
                    <div className="text-3xl mb-2">‚ú®</div>
                    <p className="text-sm">¬°PERFECTO! Justo en el aire</p>
                  </div>
                  <div className="text-center p-3 bg-red-100 dark:bg-red-800 rounded">
                    <div className="text-3xl mb-2">üì∏</div>
                    <p className="text-sm">Muy tarde: ya cayendo</p>
                  </div>
                </div>
                
                <div className="bg-purple-100 dark:bg-purple-800 p-4 rounded-lg">
                  <h4 className="font-bold mb-2">üß† Esa es exactamente la idea de los L√çMITES:</h4>
                  <p>
                    Queremos capturar el <strong>"momento matem√°tico exacto"</strong> de la velocidad.
                    No antes, no despu√©s, sino JUSTO en ese instante preciso.
                  </p>
                </div>
              </div>
            </div>

            {/* MET√ÅFORA DE REDES SOCIALES */}
            <div className="bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900 dark:to-cyan-900 p-6 rounded-lg">
              <h4 className="font-semibold text-blue-700 dark:text-blue-300 mb-4">
                üì± Otra forma de verlo: El "Zoom Infinito" de las Matem√°ticas
              </h4>
              
              <div className="space-y-4">
                <p className="text-lg">
                  ¬øHas visto esos videos de TikTok donde hacen zoom infinito a una imagen? 
                  Van acerc√°ndose m√°s y m√°s hasta ver detalles incre√≠bles.
                </p>
                
                <div className="grid md:grid-cols-4 gap-3">
                  <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                    <div className="text-2xl mb-1">üåç</div>
                    <p className="text-sm">Vista general: promedio del viaje</p>
                  </div>
                  <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                    <div className="text-2xl mb-1">üèôÔ∏è</div>
                    <p className="text-sm">M√°s cerca: promedio por cuadra</p>
                  </div>
                  <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                    <div className="text-2xl mb-1">üîç</div>
                    <p className="text-sm">Zoom x100: promedio por metro</p>
                  </div>
                  <div className="text-center p-3 bg-green-100 dark:bg-green-800 rounded">
                    <div className="text-2xl mb-1">‚ö°</div>
                    <p className="text-sm">¬°L√çMITE! Velocidad exacta</p>
                  </div>
                </div>
              </div>
            </div>
            
            {/* RECORDANDO LO B√ÅSICO CON NUEVA PERSPECTIVA */}
            <div className="bg-yellow-50 dark:bg-yellow-900 p-6 rounded-lg">
              <h4 className="font-semibold text-yellow-700 dark:text-yellow-300 mb-4">
                üß† Pero primero, recordemos lo b√°sico (con un twist genial)
              </h4>
              <div className="space-y-3">
                <p className="text-sm">
                  <strong>Imag√≠nate esto:</strong> Sales de tu casa en Chetumal para ir a la escuela. 
                  Tu casa est√° a 5 km de la escuela y tardas 15 minutos en llegar.
                  <br/>üìä Eso es como ver tu <strong>"promedio de likes"</strong> en redes sociales durante un mes.
                </p>
                <div className="bg-white dark:bg-gray-700 p-4 rounded-lg">
                  <p className="text-center">
                    <strong>Velocidad = Distancia √∑ Tiempo</strong><br/>
                    <span className="text-blue-600 font-mono">v = 5 km √∑ 0.25 horas = 20 km/h</span>
                  </p>
                </div>
                <p className="text-sm">
                  Esto es lo que hemos aprendido desde secundaria. Pero ahora vamos m√°s profundo...
                </p>
              </div>
            </div>

            <div className="grid md:grid-cols-2 gap-6">
              <div className="bg-blue-50 dark:bg-blue-900 p-6 rounded-lg">
                <h4 className="font-semibold text-blue-700 dark:text-blue-300 mb-4">
                  üêå Velocidad Promedio (La que ya conoces)
                </h4>
                
                <div className="bg-white dark:bg-gray-700 p-4 rounded-lg mb-4">
                  <h5 className="font-semibold mb-2">F√≥rmula b√°sica:</h5>
                  <p className="text-center text-lg">
                    <span className="bg-blue-100 dark:bg-blue-800 px-3 py-1 rounded font-mono">
                      v_promedio = distancia total √∑ tiempo total
                    </span>
                  </p>
                </div>

                <div className="space-y-3">
                  <div className="bg-white dark:bg-gray-700 p-3 rounded">
                    <p className="text-sm"><strong>Ejemplo real:</strong></p>
                    <p className="text-sm">Viajas de Chetumal a Canc√∫n (350 km) en 4 horas</p>
                    <p className="text-sm font-mono text-center bg-blue-100 dark:bg-blue-800 p-2 rounded mt-2">
                      v = 350 km √∑ 4 h = 87.5 km/h
                    </p>
                  </div>
                  
                  <div className="bg-orange-100 dark:bg-orange-800 p-3 rounded">
                    <p className="text-sm"><strong>Pero espera...</strong> ¬øsiempre fuiste a 87.5 km/h?</p>
                    <ul className="text-xs mt-2 space-y-1">
                      <li>‚Ä¢ En la ciudad: 60 km/h</li>
                      <li>‚Ä¢ En carretera: 100 km/h</li>
                      <li>‚Ä¢ En construcci√≥n: 40 km/h</li>
                      <li>‚Ä¢ Parado en gasolinera: 0 km/h</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div className="bg-green-50 dark:bg-green-900 p-6 rounded-lg">
                <h4 className="font-semibold text-green-700 dark:text-green-300 mb-4">
                  ‚ö° Velocidad Instant√°nea (El nuevo concepto)
                </h4>
                
                <div className="bg-white dark:bg-gray-700 p-4 rounded-lg mb-4">
                  <h5 className="font-semibold mb-2">¬øQu√© es esto?</h5>
                  <p className="text-sm mb-2">
                    Es la velocidad <strong>exacta</strong> que llevas en un momento espec√≠fico.
                  </p>
                  <p className="text-center text-lg">
                    <span className="bg-green-100 dark:bg-green-800 px-3 py-1 rounded font-mono">
                      Lo que marca tu veloc√≠metro AHORA
                    </span>
                  </p>
                </div>

                <div className="space-y-3">
                  <div className="bg-white dark:bg-gray-700 p-3 rounded">
                    <p className="text-sm"><strong>Ejemplo:</strong></p>
                    <p className="text-sm">En este momento exacto, mientras lees esto, 
                    un auto puede estar yendo a exactamente 75 km/h</p>
                  </div>
                  
                  <div className="bg-green-100 dark:bg-green-800 p-3 rounded">
                    <p className="text-sm"><strong>Pregunta clave:</strong></p>
                    <p className="text-sm">¬øC√≥mo calculamos esta velocidad instant√°nea si solo tenemos f√≥rmulas para velocidad promedio?</p>
                    <p className="text-xs mt-2 font-semibold">¬°Aqu√≠ entran los l√≠mites!</p>
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-orange-50 dark:bg-orange-900 p-6 rounded-lg">
              <h4 className="font-semibold text-orange-700 dark:text-orange-300 mb-4">
                üí° La Idea Brillante: ¬øC√≥mo llegar a la velocidad instant√°nea?
              </h4>
              
              <p className="mb-4 text-sm">
                <strong>La estrategia:</strong> Si no podemos calcular la velocidad en un instante exacto, 
                calculemos la velocidad promedio en intervalos cada vez m√°s peque√±os hasta que sean casi cero.
              </p>
              
              <div className="bg-white dark:bg-gray-700 p-4 rounded-lg mb-4">
                <h5 className="font-semibold mb-2">Ejemplo pr√°ctico: Un auto en movimiento</h5>
                <div className="space-y-2 text-sm">
                  <p><strong>Posici√≥n:</strong> s(t) = t¬≤ metros (donde t est√° en segundos)</p>
                  <p><strong>Pregunta:</strong> ¬øQu√© velocidad tiene exactamente en t = 3 segundos?</p>
                </div>
              </div>

              <div className="grid md:grid-cols-4 gap-3">
                <div className="text-center bg-white dark:bg-gray-700 p-3 rounded">
                  <div className="text-2xl mb-1">üìè</div>
                  <h6 className="font-semibold text-sm">Intervalo: 1 segundo</h6>
                  <p className="text-xs">De t=3 a t=4</p>
                  <p className="text-xs font-mono">v ‚âà (16-9)/(4-3) = 7 m/s</p>
                </div>
                <div className="text-center bg-white dark:bg-gray-700 p-3 rounded">
                  <div className="text-2xl mb-1">üîç</div>
                  <h6 className="font-semibold text-sm">Intervalo: 0.1 seg</h6>
                  <p className="text-xs">De t=3 a t=3.1</p>
                  <p className="text-xs font-mono">v ‚âà 6.1 m/s</p>
                </div>
                <div className="text-center bg-white dark:bg-gray-700 p-3 rounded">
                  <div className="text-2xl mb-1">üéØ</div>
                  <h6 className="font-semibold text-sm">Intervalo: 0.001 seg</h6>
                  <p className="text-xs">De t=3 a t=3.001</p>
                  <p className="text-xs font-mono">v ‚âà 6.001 m/s</p>
                </div>
                <div className="text-center bg-green-100 dark:bg-green-800 p-3 rounded">
                  <div className="text-2xl mb-1">‚ú®</div>
                  <h6 className="font-semibold text-sm">L√≠mite: Œît ‚Üí 0</h6>
                  <p className="text-xs">Intervalo casi cero</p>
                  <p className="text-xs font-mono font-bold">v = 6 m/s exactos</p>
                </div>
              </div>
              
              <div className="mt-4 bg-yellow-100 dark:bg-yellow-800 p-3 rounded">
                <p className="text-sm text-center">
                  <strong>¬°Eureka!</strong> Conforme el intervalo se hace m√°s peque√±o, 
                  nos acercamos a 6 m/s. Esa es la velocidad instant√°nea.
                </p>
              </div>
            </div>

            {/* NUEVA SECCI√ìN: RECORDANDO √ÅLGEBRA */}
            <div className="bg-purple-50 dark:bg-purple-900 p-6 rounded-lg">
              <h4 className="font-semibold text-purple-700 dark:text-purple-300 mb-4">
                üìö Repaso r√°pido: √Ålgebra que necesitamos
              </h4>
              
              <div className="grid md:grid-cols-2 gap-4">
                <div className="bg-white dark:bg-gray-700 p-4 rounded">
                  <h5 className="font-semibold mb-2">Expandir (a + b)¬≤:</h5>
                  <div className="space-y-1 text-sm font-mono">
                    <p>(a + b)¬≤ = a¬≤ + 2ab + b¬≤</p>
                    <p className="text-blue-600">Ejemplo: (x + 3)¬≤ = x¬≤ + 6x + 9</p>
                  </div>
                </div>
                <div className="bg-white dark:bg-gray-700 p-4 rounded">
                  <h5 className="font-semibold mb-2">Factorizar:</h5>
                  <div className="space-y-1 text-sm font-mono">
                    <p>ab + ac = a(b + c)</p>
                    <p className="text-green-600">Ejemplo: 3x + 3 = 3(x + 1)</p>
                  </div>
                </div>
              </div>
              
              <div className="mt-3 bg-yellow-100 dark:bg-yellow-800 p-3 rounded">
                <p className="text-sm"><strong>¬øPor qu√© repasamos esto?</strong> 
                Porque en el c√°lculo de l√≠mites vamos a expandir, simplificar y factorizar mucho. 
                Si estos pasos los tienes autom√°ticos, te ser√° m√°s f√°cil enfocarte en la idea del l√≠mite.</p>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* EJEMPLOS RESUELTOS */}
        <Card className={darkMode ? 'bg-gray-800' : 'bg-white'}>
          <CardHeader>
            <CardTitle className="text-gray-900 dark:text-white">
              ‚úÖ Ejemplos Resueltos Paso a Paso
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-8">

            {/* EJEMPLO 1 - M√ÅS DID√ÅCTICO */}
            <div className="border-l-4 border-blue-500 pl-6">
              <div className="flex justify-between items-center mb-4">
                <h4 className="text-xl font-semibold">Ejemplo 1: Una pelota que cae (desde lo b√°sico)</h4>
                <button
                  onClick={() => toggleSolucion('ejemplo1')}
                  className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                >
                  {mostrarSolucion.ejemplo1 ? 'Ocultar Soluci√≥n' : 'Ver Soluci√≥n'}
                </button>
              </div>
              
              <div className="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg mb-4">
                <p className="mb-3"><strong>Situaci√≥n:</strong> Imagina que est√°s en el segundo piso de tu escuela 
                y dejas caer una pelota desde la ventana (¬°con cuidado!). La f√≠sica nos dice que su altura sigue la f√≥rmula:</p>
                
                <div className="bg-white dark:bg-gray-700 p-3 rounded text-center">
                  <p className="font-mono text-lg">h(t) = 100 - 5t¬≤</p>
                  <p className="text-sm mt-1">donde h = altura en metros, t = tiempo en segundos</p>
                </div>
                
                <p className="mt-3"><strong>Pregunta:</strong> ¬øQu√© tan r√°pido cae la pelota exactamente cuando t = 2 segundos?</p>
                
                <div className="mt-3 bg-yellow-100 dark:bg-yellow-800 p-3 rounded">
                  <p className="text-sm"><strong>Nota:</strong> h(t) nos da la POSICI√ìN (altura), 
                  pero nosotros queremos la VELOCIDAD (qu√© tan r√°pido cambia esa posici√≥n).</p>
                </div>
              </div>

              {mostrarSolucion.ejemplo1 && (
                <div className="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg space-y-4">
                  <div>
                    <h5 className="font-semibold mb-2">Paso 1: Recordemos la f√≥rmula b√°sica</h5>
                    <p className="text-sm mb-2">Para calcular velocidad promedio usamos:</p>
                    <div className="bg-white dark:bg-gray-600 p-3 rounded space-y-2">
                      <p className="font-mono text-center">velocidad promedio = cambio en posici√≥n √∑ cambio en tiempo</p>
                      <p className="font-mono text-center text-blue-600">v = [h(t+Œît) - h(t)] √∑ Œît</p>
                      <p className="text-xs text-center">donde Œît significa "un peque√±o cambio en tiempo"</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 2: Sustituir nuestra f√≥rmula h(t) = 100 - 5t¬≤</h5>
                    <p className="text-sm mb-2">Necesitamos calcular h(t+Œît). Esto significa "la altura un poquito despu√©s del tiempo t":</p>
                    <div className="bg-white dark:bg-gray-600 p-3 rounded space-y-2">
                      <p className="font-mono">h(t+Œît) = 100 - 5(t+Œît)¬≤</p>
                      <p className="text-sm">Ahora expandimos (t+Œît)¬≤ usando la f√≥rmula (a+b)¬≤ = a¬≤ + 2ab + b¬≤:</p>
                      <p className="font-mono">(t+Œît)¬≤ = t¬≤ + 2t¬∑Œît + (Œît)¬≤</p>
                      <p className="text-sm">Sustituyendo:</p>
                      <p className="font-mono">h(t+Œît) = 100 - 5(t¬≤ + 2t¬∑Œît + (Œît)¬≤)</p>
                      <p className="font-mono">h(t+Œît) = 100 - 5t¬≤ - 10t¬∑Œît - 5(Œît)¬≤</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 3: Calcular el cambio en altura</h5>
                    <p className="text-sm mb-2">Ahora restamos h(t) de h(t+Œît) para ver cu√°nto cambio hubo:</p>
                    <div className="bg-white dark:bg-gray-600 p-3 rounded space-y-2">
                      <p className="text-sm">h(t+Œît) - h(t) =</p>
                      <p className="font-mono">[100 - 5t¬≤ - 10t¬∑Œît - 5(Œît)¬≤] - [100 - 5t¬≤]</p>
                      <p className="text-sm">Los t√©rminos 100 y -5t¬≤ se cancelan:</p>
                      <p className="font-mono">= -10t¬∑Œît - 5(Œît)¬≤</p>
                      <p className="text-sm">Factorizamos Œît:</p>
                      <p className="font-mono text-green-600">= Œît(-10t - 5Œît)</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 4: Calcular la velocidad promedio</h5>
                    <p className="text-sm mb-2">Dividimos el cambio en altura entre el cambio en tiempo:</p>
                    <div className="bg-white dark:bg-gray-600 p-3 rounded space-y-2">
                      <p className="font-mono">v_promedio = [cambio en posici√≥n] √∑ [cambio en tiempo]</p>
                      <p className="font-mono">v_promedio = [Œît(-10t - 5Œît)] √∑ Œît</p>
                      <p className="text-sm">Los Œît se cancelan:</p>
                      <p className="font-mono text-green-600">v_promedio = -10t - 5Œît</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 5: ¬°Aqu√≠ viene la magia del l√≠mite!</h5>
                    <p className="text-sm mb-2">Ahora hacemos que Œît se acerque cada vez m√°s a cero:</p>
                    <div className="bg-green-100 dark:bg-green-800 p-3 rounded space-y-2">
                      <p className="text-sm">Cuando Œît ‚Üí 0 (se acerca a cero):</p>
                      <p className="font-mono">v_instant√°nea = l√≠mite de (-10t - 5Œît)</p>
                      <p className="font-mono">= -10t - 5(0)</p>
                      <p className="font-mono text-lg font-bold">= -10t</p>
                      <p className="text-xs">¬°El t√©rmino con Œît desaparece!</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 6: ¬°Respuesta final!</h5>
                    <p className="text-sm mb-2">Sustituimos t = 2 en nuestra f√≥rmula v = -10t:</p>
                    <div className="bg-green-100 dark:bg-green-800 p-4 rounded text-center space-y-2">
                      <p className="font-mono text-xl font-bold">v(2) = -10(2) = -20 m/s</p>
                      <p className="text-sm"><strong>Interpretaci√≥n:</strong> En t = 2 segundos, la pelota cae a 20 m/s</p>
                      <p className="text-sm">(El signo negativo significa que va hacia abajo)</p>
                    </div>
                    <div className="mt-3 bg-blue-100 dark:bg-blue-800 p-3 rounded">
                      <p className="text-sm"><strong>¬øQu√© significa esto?</strong> Despu√©s de 2 segundos de caer, 
                      la pelota se mueve hacia abajo tan r√°pido que recorrer√≠a 20 metros en el siguiente segundo 
                      si mantuviera esa velocidad constante.</p>
                    </div>
                  </div>
                </div>
              )}
            </div>

            {/* EJEMPLO 2 */}
            <div className="border-l-4 border-green-500 pl-6">
              <div className="flex justify-between items-center mb-4">
                <h4 className="text-xl font-semibold">Ejemplo 2: Movimiento en L√≠nea Recta</h4>
                <button
                  onClick={() => toggleSolucion('ejemplo2')}
                  className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
                >
                  {mostrarSolucion.ejemplo2 ? 'Ocultar Soluci√≥n' : 'Ver Soluci√≥n'}
                </button>
              </div>
              
              <div className="bg-green-50 dark:bg-green-900 p-4 rounded-lg mb-4">
                <p><strong>Problema:</strong> Un auto se mueve seg√∫n la ecuaci√≥n s(t) = 2t¬≥ - 6t¬≤ + 4t, 
                donde s est√° en metros y t en segundos. 
                ¬øCu√°l es su velocidad instant√°nea en t = 3 segundos?</p>
              </div>

              {mostrarSolucion.ejemplo2 && (
                <div className="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg space-y-4">
                  <div>
                    <h5 className="font-semibold mb-2">Paso 1: Aplicar la definici√≥n</h5>
                    <p className="font-mono bg-white dark:bg-gray-600 p-3 rounded">
                      v(t) = lim<sub>Œît‚Üí0</sub> [s(t+Œît) - s(t)] / Œît
                    </p>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 2: Calcular s(t+Œît)</h5>
                    <div className="font-mono bg-white dark:bg-gray-600 p-3 rounded text-sm space-y-1">
                      <p>s(t+Œît) = 2(t+Œît)¬≥ - 6(t+Œît)¬≤ + 4(t+Œît)</p>
                      <p>Expandiendo (t+Œît)¬≥ = t¬≥ + 3t¬≤Œît + 3t(Œît)¬≤ + (Œît)¬≥</p>
                      <p>Expandiendo (t+Œît)¬≤ = t¬≤ + 2tŒît + (Œît)¬≤</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 3: Sustituir y simplificar</h5>
                    <div className="font-mono bg-white dark:bg-gray-600 p-3 rounded text-sm space-y-1">
                      <p>s(t+Œît) = 2[t¬≥ + 3t¬≤Œît + 3t(Œît)¬≤ + (Œît)¬≥] - 6[t¬≤ + 2tŒît + (Œît)¬≤] + 4[t+Œît]</p>
                      <p>s(t+Œît) = 2t¬≥ + 6t¬≤Œît + 6t(Œît)¬≤ + 2(Œît)¬≥ - 6t¬≤ - 12tŒît - 6(Œît)¬≤ + 4t + 4Œît</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 4: Calcular s(t+Œît) - s(t)</h5>
                    <div className="font-mono bg-white dark:bg-gray-600 p-3 rounded text-sm">
                      <p>s(t+Œît) - s(t) = 6t¬≤Œît + 6t(Œît)¬≤ + 2(Œît)¬≥ - 12tŒît - 6(Œît)¬≤ + 4Œît</p>
                      <p>s(t+Œît) - s(t) = Œît(6t¬≤ - 12t + 4 + 6tŒît + 2(Œît)¬≤ - 6Œît)</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 5: Dividir por Œît y tomar l√≠mite</h5>
                    <div className="font-mono bg-green-100 dark:bg-green-800 p-3 rounded">
                      <p>v(t) = lim<sub>Œît‚Üí0</sub> (6t¬≤ - 12t + 4 + 6tŒît + 2(Œît)¬≤ - 6Œît)</p>
                      <p>v(t) = 6t¬≤ - 12t + 4</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 6: Evaluar en t = 3</h5>
                    <div className="font-mono bg-green-100 dark:bg-green-800 p-3 rounded text-xl text-center">
                      <p><strong>v(3) = 6(3)¬≤ - 12(3) + 4 = 54 - 36 + 4 = 22 m/s</strong></p>
                    </div>
                  </div>
                </div>
              )}
            </div>

            {/* EJEMPLO 3 */}
            <div className="border-l-4 border-purple-500 pl-6">
              <div className="flex justify-between items-center mb-4">
                <h4 className="text-xl font-semibold">Ejemplo 3: Funci√≥n Cuadr√°tica Simple</h4>
                <button
                  onClick={() => toggleSolucion('ejemplo3')}
                  className="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600"
                >
                  {mostrarSolucion.ejemplo3 ? 'Ocultar Soluci√≥n' : 'Ver Soluci√≥n'}
                </button>
              </div>
              
              <div className="bg-purple-50 dark:bg-purple-900 p-4 rounded-lg mb-4">
                <p><strong>Problema:</strong> Una part√≠cula se mueve seg√∫n f(t) = t¬≤ + 3t. 
                Encuentra la velocidad instant√°nea en t = 1 segundo usando la definici√≥n de l√≠mite.</p>
              </div>

              {mostrarSolucion.ejemplo3 && (
                <div className="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg space-y-4">
                  <div>
                    <h5 className="font-semibold mb-2">Paso 1: Escribir la definici√≥n</h5>
                    <p className="font-mono bg-white dark:bg-gray-600 p-3 rounded">
                      f'(1) = lim<sub>h‚Üí0</sub> [f(1+h) - f(1)] / h
                    </p>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 2: Calcular f(1+h) y f(1)</h5>
                    <div className="font-mono bg-white dark:bg-gray-600 p-3 rounded space-y-1">
                      <p>f(1+h) = (1+h)¬≤ + 3(1+h) = 1 + 2h + h¬≤ + 3 + 3h = 4 + 5h + h¬≤</p>
                      <p>f(1) = 1¬≤ + 3(1) = 1 + 3 = 4</p>
                    </div>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 3: Calcular f(1+h) - f(1)</h5>
                    <p className="font-mono bg-white dark:bg-gray-600 p-3 rounded">
                      f(1+h) - f(1) = (4 + 5h + h¬≤) - 4 = 5h + h¬≤ = h(5 + h)
                    </p>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 4: Dividir por h</h5>
                    <p className="font-mono bg-white dark:bg-gray-600 p-3 rounded">
                      [f(1+h) - f(1)] / h = h(5 + h) / h = 5 + h
                    </p>
                  </div>

                  <div>
                    <h5 className="font-semibold mb-2">Paso 5: Tomar el l√≠mite</h5>
                    <div className="font-mono bg-purple-100 dark:bg-purple-800 p-3 rounded text-xl text-center">
                      <p><strong>f'(1) = lim<sub>h‚Üí0</sub> (5 + h) = 5 + 0 = 5</strong></p>
                    </div>
                    <p className="text-sm mt-2 text-center">
                      La velocidad instant√°nea en t = 1 es 5 unidades por segundo.
                    </p>
                  </div>
                </div>
              )}
            </div>

          </CardContent>
        </Card>

        {/* EJERCICIOS PARA PR√ÅCTICA EN CLASE */}
        <Card className={darkMode ? 'bg-gray-800' : 'bg-white'}>
          <CardHeader>
            <CardTitle className="text-gray-900 dark:text-white">
              üìù Ejercicios para Resolver en Clase
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-8">

            <div className="bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg">
              <h4 className="font-semibold text-yellow-700 dark:text-yellow-300 mb-2">
                üìã Instrucciones para el Trabajo en Clase
              </h4>
              <ul className="text-sm space-y-1">
                <li>‚Ä¢ Trabaja en equipos de 3-4 personas</li>
                <li>‚Ä¢ Resuelve paso a paso como en los ejemplos</li>
                <li>‚Ä¢ Verifica tus respuestas con otros equipos</li>
                <li>‚Ä¢ Pregunta al profesor en caso de dudas</li>
              </ul>
            </div>

            {/* EJERCICIO 1 - M√ÅS B√ÅSICO */}
            <div className="border-2 border-blue-300 dark:border-blue-600 p-6 rounded-lg">
              <h4 className="text-xl font-semibold mb-4">Ejercicio 1: Una pelota lanzada hacia arriba</h4>
              <div className="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg mb-4">
                <p className="mb-3"><strong>Situaci√≥n:</strong> Tu amigo lanza una pelota hacia arriba desde el patio de la escuela. 
                La altura de la pelota sigue la f√≥rmula:</p>
                
                <div className="bg-white dark:bg-gray-700 p-3 rounded text-center mb-3">
                  <p className="font-mono text-lg">h(t) = -5t¬≤ + 20t + 15</p>
                  <p className="text-sm">donde h = altura en metros, t = tiempo en segundos</p>
                </div>
                
                <p><strong>Tu tarea:</strong> Encuentra qu√© tan r√°pido se mueve la pelota exactamente en t = 2 segundos.</p>
                <p className="text-sm mt-2"><strong>Pista:</strong> Usa la misma t√©cnica del ejemplo anterior, pero ahora con esta nueva f√≥rmula.</p>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                <div>
                  <h5 className="font-semibold mb-2">Espacio para tu soluci√≥n:</h5>
                  <div className="bg-white dark:bg-gray-700 p-4 rounded-lg min-h-[200px] border-2 border-dashed border-gray-300">
                    <p className="text-gray-500 text-sm">Trabaja aqu√≠ paso a paso...</p>
                  </div>
                </div>
                <div>
                  <h5 className="font-semibold mb-2">Gu√≠a paso a paso:</h5>
                  <div className="text-sm space-y-2 bg-gray-50 dark:bg-gray-700 p-3 rounded">
                    <p><strong>Paso 1:</strong> Escribe la f√≥rmula v = [h(t+Œît) - h(t)] √∑ Œît</p>
                    <p><strong>Paso 2:</strong> Calcula h(t+Œît) = -5(t+Œît)¬≤ + 20(t+Œît) + 15</p>
                    <p><strong>Paso 3:</strong> Expande (t+Œît)¬≤ = t¬≤ + 2tŒît + (Œît)¬≤</p>
                    <p><strong>Paso 4:</strong> Simplifica y resta h(t)</p>
                    <p><strong>Paso 5:</strong> Factoriza Œît y cancela</p>
                    <p><strong>Paso 6:</strong> Toma el l√≠mite cuando Œît ‚Üí 0</p>
                    <p><strong>Paso 7:</strong> Eval√∫a en t = 2</p>
                  </div>
                </div>
              </div>
            </div>

            {/* EJERCICIO 2 - M√ÅS SIMPLE */}
            <div className="border-2 border-green-300 dark:border-green-600 p-6 rounded-lg">
              <h4 className="text-xl font-semibold mb-4">Ejercicio 2: Un auto acelerando</h4>
              <div className="bg-green-50 dark:bg-green-900 p-4 rounded-lg mb-4">
                <p className="mb-3"><strong>Situaci√≥n:</strong> Un auto sale del reposo y su posici√≥n en la carretera 
                (medida desde un punto de partida) est√° dada por:</p>
                
                <div className="bg-white dark:bg-gray-700 p-3 rounded text-center mb-3">
                  <p className="font-mono text-lg">s(t) = t¬≤ + 3t</p>
                  <p className="text-sm">donde s = posici√≥n en metros, t = tiempo en segundos</p>
                </div>
                
                <p><strong>Tu tarea:</strong> ¬øQu√© velocidad lleva exactamente en t = 2 segundos?</p>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                <div>
                  <h5 className="font-semibold mb-2">Espacio para tu soluci√≥n:</h5>
                  <div className="bg-white dark:bg-gray-700 p-4 rounded-lg min-h-[200px] border-2 border-dashed border-gray-300">
                    <p className="text-gray-500 text-sm">Trabaja aqu√≠ paso a paso...</p>
                  </div>
                </div>
                <div>
                  <h5 className="font-semibold mb-2">¬°Este es m√°s f√°cil!</h5>
                  <div className="text-sm bg-gray-50 dark:bg-gray-700 p-3 rounded space-y-2">
                    <p><strong>Solo necesitas expandir:</strong></p>
                    <p>(t+Œît)¬≤ = t¬≤ + 2tŒît + (Œît)¬≤</p>
                    <p><strong>El resto es igual que el primer ejemplo:</strong></p>
                    <p>1. Calcula s(t+Œît) = (t+Œît)¬≤ + 3(t+Œît)</p>
                    <p>2. Resta s(t) = t¬≤ + 3t</p>
                    <p>3. Divide por Œît y toma el l√≠mite</p>
                  </div>
                </div>
              </div>
            </div>

            {/* EJERCICIO 3 - COMPARACI√ìN SIMPLE */}
            <div className="border-2 border-purple-300 dark:border-purple-600 p-6 rounded-lg">
              <h4 className="text-xl font-semibold mb-4">Ejercicio 3: ¬øQui√©n va m√°s r√°pido?</h4>
              <div className="bg-purple-50 dark:bg-purple-900 p-4 rounded-lg mb-4">
                <p className="mb-3"><strong>Situaci√≥n:</strong> Dos estudiantes van en bicicleta por diferentes rutas 
                para llegar a la escuela. Sus posiciones est√°n dadas por:</p>
                
                <div className="bg-white dark:bg-gray-700 p-3 rounded mb-3">
                  <p><strong>Ana:</strong> <span className="font-mono">s_Ana(t) = 2t¬≤ + 5t</span></p>
                  <p><strong>Luis:</strong> <span className="font-mono">s_Luis(t) = t¬≤ + 8t</span></p>
                  <p className="text-sm mt-2">(posici√≥n en metros, tiempo en segundos)</p>
                </div>
                
                <p><strong>Tu tarea:</strong> ¬øQui√©n va m√°s r√°pido exactamente en t = 1 segundo?</p>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                <div>
                  <h5 className="font-semibold mb-2">Espacio para tu soluci√≥n:</h5>
                  <div className="bg-white dark:bg-gray-700 p-4 rounded-lg min-h-[200px] border-2 border-dashed border-gray-300">
                    <p className="text-gray-500 text-sm">Calcula la velocidad de ambos autos...</p>
                  </div>
                </div>
                <div>
                  <h5 className="font-semibold mb-2">Estrategia:</h5>
                  <ol className="text-sm space-y-1 bg-gray-50 dark:bg-gray-700 p-3 rounded list-decimal pl-6">
                    <li>Calcula la velocidad de Ana en t = 1 usando l√≠mites</li>
                    <li>Calcula la velocidad de Luis en t = 1 usando l√≠mites</li>
                    <li>Compara: ¬øqui√©n tiene mayor velocidad?</li>
                    <li>Explica qu√© significa esto en la vida real</li>
                  </ol>
                  <div className="mt-3 bg-yellow-100 dark:bg-yellow-800 p-2 rounded">
                    <p className="text-xs"><strong>Pista:</strong> Ambos problemas son parecidos al Ejercicio 2, 
                    solo cambian los n√∫meros en las f√≥rmulas.</p>
                  </div>
                </div>
              </div>
            </div>

          </CardContent>
        </Card>

        {/* RESUMEN Y CONSEJOS */}
        <Card className={darkMode ? 'bg-gray-800' : 'bg-white'}>
          <CardHeader>
            <CardTitle className="text-gray-900 dark:text-white">
              üí° Resumen y Consejos para Dominar los L√≠mites
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="grid md:grid-cols-2 gap-6">
              <div className="bg-green-50 dark:bg-green-900 p-6 rounded-lg">
                <h4 className="font-semibold text-green-700 dark:text-green-300 mb-4">
                  ‚úÖ Pasos para el √©xito
                </h4>
                <ol className="list-decimal pl-6 space-y-2 text-sm">
                  <li>Siempre usa la definici√≥n: lim<sub>h‚Üí0</sub> [f(x+h) - f(x)] / h</li>
                  <li>Expande algebraicamente con cuidado</li>
                  <li>Simplifica antes de tomar el l√≠mite</li>
                  <li>Elimina la indeterminaci√≥n 0/0</li>
                  <li>Eval√∫a el l√≠mite</li>
                  <li>Verifica que tu respuesta tenga sentido</li>
                </ol>
              </div>

              <div className="bg-red-50 dark:bg-red-900 p-6 rounded-lg">
                <h4 className="font-semibold text-red-700 dark:text-red-300 mb-4">
                  ‚ö†Ô∏è Errores comunes a evitar
                </h4>
                <ul className="list-disc pl-6 space-y-2 text-sm">
                  <li>No expandir correctamente (a+b)¬≤</li>
                  <li>Errores de signos al restar</li>
                  <li>No factorizar correctamente</li>
                  <li>Cancelar t√©rminos incorrectamente</li>
                  <li>No verificar la respuesta</li>
                  <li>Confundir velocidad promedio con instant√°nea</li>
                </ul>
              </div>
            </div>

            <div className="bg-blue-50 dark:bg-blue-900 p-6 rounded-lg">
              <h4 className="font-semibold text-blue-700 dark:text-blue-300 mb-4">
                üéØ ¬øQu√© sigue despu√©s?
              </h4>
              <p className="mb-4">
                Una vez que domines el c√°lculo de velocidad instant√°nea usando l√≠mites, 
                podr√°s entender las reglas de derivaci√≥n que hacen este proceso mucho m√°s r√°pido.
              </p>
              <div className="grid md:grid-cols-3 gap-4">
                <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                  <div className="text-2xl mb-2">üìê</div>
                  <p className="text-sm font-semibold">Reglas de derivaci√≥n</p>
                </div>
                <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                  <div className="text-2xl mb-2">üìä</div>
                  <p className="text-sm font-semibold">Aplicaciones geom√©tricas</p>
                </div>
                <div className="text-center p-3 bg-white dark:bg-gray-700 rounded">
                  <div className="text-2xl mb-2">üîß</div>
                  <p className="text-sm font-semibold">Optimizaci√≥n</p>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>

      </main>
    </div>
  );
};

export default PracticaLimitesVelocidad;